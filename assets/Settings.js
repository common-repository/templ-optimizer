import{d as g,o,b as d,e as r,F as c,k as f,t as m,n as S,g as u,S as O,_ as I,r as v,a as P,x as h,y as T,u as y,s as E,j as _,l as N,f as R}from"./index.js";import{N as b,f as k,T as W}from"./TemplHr.js";import{C as V}from"./Checkmark.js";const L=[{setting:"WP_MEMORY_LIMIT",priority:100,name:"message.settings.WP_MEMORY_LIMIT.name",desc:"message.settings.WP_MEMORY_LIMIT.desc",values:[{name:"message.settings.WP_MEMORY_LIMIT.values.default",value:"default"},{value:"128M"},{value:"256M"},{value:"512M"}]},{setting:"heartbeat_interval",priority:100,name:"message.settings.heartbeat_interval.name",desc:"message.settings.heartbeat_interval.desc",values:[{name:"message.settings.heartbeat_interval.values.default",value:"default"},{name:"message.settings.heartbeat_interval.values.slow",value:"slow"}]},{setting:"wp_rocket_preload_interval",priority:100,name:"message.settings.wp_rocket_preload_interval.name",desc:"message.settings.wp_rocket_preload_interval.desc",values:[{name:"message.settings.wp_rocket_preload_interval.values.default",value:"default"},{name:"message.settings.wp_rocket_preload_interval.values.slow",value:"slow"}]},{setting:"WP_POST_REVISIONS",priority:100,name:"message.settings.WP_POST_REVISIONS.name",desc:"message.settings.WP_POST_REVISIONS.desc",values:[{name:"message.settings.WP_POST_REVISIONS.values.default",value:"default"},{name:"message.settings.WP_POST_REVISIONS.values.5",value:"5"}]},{setting:"DISABLE_WP_CRON",priority:100,name:"message.settings.DISABLE_WP_CRON.name",desc:"message.settings.DISABLE_WP_CRON.desc",values:[{name:"message.settings.DISABLE_WP_CRON.values.disabled",value:"disabled"},{name:"message.settings.DISABLE_WP_CRON.values.enabled",value:"enabled"}]}],B=(l,e)=>(l=="WP_MEMORY_LIMIT"&&(e=="40M"||e=="64M")&&(e="default"),l=="heartbeat_interval"&&(e||(e="default")),l=="WP_POST_REVISIONS"&&e==null&&(e="default"),e),C={class:"templ-select-container"},w=["name","id","disabled","value"],$=["value"],D=g({__name:"TemplSelect",props:{modelValue:{},name:{},id:{},disabled:{type:Boolean},loading:{type:Boolean},completed:{type:Boolean},values:{}},emits:["update:modelValue"],setup(l){const e=l;return(n,a)=>(o(),d("div",C,[r("select",{name:e.name,id:e.id,onChange:a[0]||(a[0]=s=>n.$emit("update:modelValue",s.target.value)),disabled:e.disabled||e.loading,class:S({loading:e.loading,completed:e.completed}),value:e.modelValue},[(o(!0),d(c,null,f(e.values,s=>(o(),d("option",{key:s.value,value:s.value},m(s.name?n.$t(s.name):s.value),9,$))),128))],42,w),u(O,{class:"templ-spinner",color:"white"}),u(V,{class:"templ-checkmark",color:"green"})]))}});const A=I(D,[["__scopeId","data-v-5975aec6"]]),Y=["innerHTML"],z=g({__name:"Setting",props:["name","desc","setting","values","currentValue"],setup(l){const e=l,n=v(null),a=P({loading:!1,completed:!1}),s=v(B(e.setting,e.currentValue));h(s,(t,i)=>{t!=i&&p()});const p=()=>{a.loading=!0;let t={setting:e.setting,value:s.value};T(t).then(()=>{n.value={message:"message.setting_saved",type:"success"},a.completed=!0,setTimeout(()=>{a.completed=!1},1500),setTimeout(()=>{n.value=null},3e3)}).catch(i=>{console.error(i)}).finally(()=>{a.loading=!1})};return(t,i)=>(o(),d("div",{class:S(["templ-optimizer-setting",e.setting])},[r("h3",null,m(t.$t(e.name)),1),u(b,{notification:n.value},null,8,["notification"]),r("p",{innerHTML:t.$t(e.desc)},null,8,Y),u(A,{name:e.setting,id:e.setting,modelValue:s.value,"onUpdate:modelValue":i[0]||(i[0]=M=>s.value=M),values:e.values,loading:a.loading,completed:a.completed},null,8,["name","id","modelValue","values","loading","completed"])],2))}}),F={class:"templ-optimizer-settings"},H=g({__name:"Settings",setup(l){const e=y(),{data:n}=E(e),a=k(L,n.value);return(s,p)=>(o(),d("div",F,[r("h2",null,m(s.$t("message.settings.heading")),1),r("p",null,m(s.$t("message.settings.desc")),1),(o(!0),d(c,null,f(_(a),(t,i)=>(o(),d(c,{key:t.setting},[u(z,{name:t.name,desc:t.desc,setting:t.setting,values:t.values,currentValue:_(n).current_settings[t.setting]},null,8,["name","desc","setting","values","currentValue"]),i!=_(a).length-1?(o(),N(W,{key:0})):R("",!0)],64))),128))]))}});const q=I(H,[["__scopeId","data-v-f7518f5d"]]);export{q as default};
